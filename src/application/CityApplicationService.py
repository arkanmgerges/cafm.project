"""
The file is generated by scaffold script
@author: Arkan M. Gerges<arkan.m.gerges@gmail.com>
"""

from src.application.BaseApplicationService import BaseApplicationService
from src.application.model.BaseApplicationServiceModelData import BaseApplicationServiceModelData
from src.domain_model.city.City import City
from src.domain_model.city.CityRepository import CityRepository
from src.domain_model.token.TokenService import TokenService
from src.resource.logging.decorator import debugLogger


class CityApplicationService(BaseApplicationService):
    def __init__(self, repo: CityRepository):
        self._repo = repo

    @debugLogger
    def cityById(self, id: int, token: str = None, **_kwargs) -> City:
        TokenService.tokenDataFromToken(token=token)
        return super().callGetterFunction(
            modelData=BaseApplicationServiceModelData(getterFunction=self._repo.cityById, kwargs={"id": id})
        )

    @debugLogger
    def _constructObject(self, *args, **kwargs) -> City:
        kwargs[BaseApplicationService.DOMAIN_MODEL_CLASS] = City
        return super()._constructObject(*args, **kwargs)
