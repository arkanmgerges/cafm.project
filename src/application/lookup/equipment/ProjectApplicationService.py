"""
The file is generated by scaffold script
@author: Arkan M. Gerges<arkan.m.gerges@gmail.com>
"""

from src.application.lookup.equipment.ProjectRepository import (
    ProjectRepository,
)

from src.application.BaseApplicationService import BaseApplicationService
from src.domain_model.project.Project import Project
from src.domain_model.token.TokenService import TokenService
from src.resource.logging.decorator import debugLogger


class ProjectApplicationService(BaseApplicationService):
    def __init__(self, repo: ProjectRepository):
        self._repo = repo


    @debugLogger
    def deleteProject(self, *args, **kwargs):
        _tokenData = TokenService.tokenDataFromToken(token=kwargs["token"])
        kwargs["skipValidation"] = True
        obj: Project = self._constructObject(*args, **kwargs)
        self._repo.delete(obj=obj)


    @debugLogger
    def _constructObject(self, *args, **kwargs) -> Project:
        kwargs[BaseApplicationService.DOMAIN_MODEL_CLASS] = Project
        return super()._constructObject(*args, **kwargs)
