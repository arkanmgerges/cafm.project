"""
The file is generated by a scaffold script
@author: Arkan M. Gerges<arkan.m.gerges@gmail.com>
"""

{%set className= model.name | upperCamelCase%}
{%-set lowerCamelModelName= model.name | lowerCamelCase-%}
{%-set funcParams= model.field | mapFuncParams-%}
{%-set funcArgs= model.field | mapFuncArgs-%}
{%-set funcArgsByObj= model.field | mapFuncArgs('obj', 'function')-%}
{%-set funcArgsByDbObj= model.field | mapFuncArgs('dbObject')-%}
{%-set funcArgsByItem= model.field | mapFuncArgs('x')-%}
{%-set classNameWords= model.name | spacedWords%}
{%-set filePath= model.path | replace('/', '.')%}

from elasticsearch_dsl import InnerDoc, Keyword


class {{ model.domain_model.name | upperCamelCase }}(InnerDoc):
    {%- for field in model.field %}
    {%- if field.type == "foreign" %}
    {{ field.name }} = Nested({{ field.link.domain_model.name | upperCamelCase }})
    {%- else %}
    {{ field.name }} = {{ field.es.type }}()
    {%- endif %}
    {%- endfor %}
